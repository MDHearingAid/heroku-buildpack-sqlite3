#!/usr/bin/env bash

set -e            # fail fast
set -o pipefail   # don't ignore exit codes when piping output
# set -x          # enable debugging

build_dir=$1
cache_dir=$2
env_dir=$3

bp_dir=$(cd $(dirname $0); cd ..; pwd)

# Load some convenience functions like status(), echo(), and indent()
source $bp_dir/bin/common.sh

# Download sqlite3
status "Downloading and installing sqlite3"
sqlite3_url="http://www.sqlite.org/2014/sqlite-shell-linux-x86-3080600.zip"
curl $sqlite3_url -s -o sqlite3.zip
mkdir -p $build_dir/vendor/sqlite/bin
jar xf sqlite3.zip > $build_dir/vendor/sqlite3/bin/sqlite3
PATH=$build_dir/vendor/sqlite3/bin:$PATH
